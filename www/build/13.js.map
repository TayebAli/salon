{"version":3,"sources":["../../src/pages/booking-confirm/booking-confirm.module.ts","../../src/pages/booking-confirm/booking-confirm.ts"],"names":[],"mappings":"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","file":"13.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { BookingConfirmPage } from './booking-confirm';\n\n@NgModule({\n  declarations: [\n    BookingConfirmPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(BookingConfirmPage),\n  ],\n})\nexport class BookingConfirmPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/booking-confirm/booking-confirm.module.ts","import {BackendProvider} from '../../providers/backend/backend';\nimport {Component} from '@angular/core';\nimport {IonicPage, NavController, NavParams, AlertController, LoadingController, ToastController} from 'ionic-angular';\nimport {BookingProvider} from '../../providers/booking/booking';\n\n@IonicPage({\n  name: 'my-bill'\n})\n@Component({\n  selector: 'page-booking-confirm',\n  templateUrl: 'booking-confirm.html',\n})\nexport class BookingConfirmPage {\n\n  salonID: any;\n  sname: any;\n  userID: any;\n\n  staff: any;\n  hadmat: any;\n  salonPro: any;\n\n  StaffID: number;\n  ServesID: any;\n  theTime: any;\n  theDay: any;\n  feedback: any;\n  booking: any;\n  StaffList = [];\n  ErrorMessag: any;\n  error: any;\n\n\n  constructor(public navCtrl: NavController,\n              public navParams: NavParams,\n              public backend: BackendProvider,\n              public backbook: BookingProvider,\n              private alertCtrl: AlertController,\n              public loadingCtrl: LoadingController,\n              public toastCtrl: ToastController) {\n    this.salonID = navParams.get(\"salonID\");\n\n    this.sname = this.navParams.get(\"sname\");\n    this.userID = localStorage.getItem(\"userID\");\n\n    console.log(\"get id \", this.StaffID = navParams.get(\"StaffID\"));\n    console.log(\"get se id: \", this.ServesID = navParams.get(\"selectServes\"));\n    console.log(\"get Time\", this.theTime = navParams.get(\"Time\"));\n    console.log(\"get day: \", this.theDay = navParams.get(\"Date\"));\n    this.feedback = navParams.get(\"feedback\");\n  }\n\n  ionViewDidLoad() {\n    let loading = this.loadingCtrl.create({\n      content: 'انتظر ...'\n    });\n    loading.present();\n    this.backend.getServesById(this.ServesID).subscribe(hadmat => {\n      console.log(\"خدمات: \", this.hadmat = hadmat.data);\n    });\n\n\n    this.backend.getSalonById(this.salonID).subscribe(salon => {\n      console.log(\"salonPro: \", this.salonPro = salon.data);\n    });\n\n    this.backend.getStaffById(this.StaffID).subscribe(staffList => {\n      console.log(\"Staff: \", this.StaffList = staffList.data);\n      loading.dismiss();\n    });\n\n    // this.backend.getServesById(this.selectServes).subscribe(serves => (\n    //   console.log(\"Serves: \", this.serves = serves.data)\n\n    // ));\n\n  }\n\n  confirm() {\n    let alert = this.alertCtrl.create({\n      title: 'تنبيه',\n      message: 'تاكيد الطلب والمتابعة',\n      buttons: [\n        {\n          text: 'ألغاء',\n          role: 'cancel',\n          handler: () => {\n            console.log('Cancel clicked');\n          }\n        },\n        {\n          text: 'متابعة',\n          handler: () => {\n            console.log('Buy clicked');\n            this.backbook.userBook(\n              this.userID,\n              this.StaffID,\n              this.ServesID,\n              this.salonID,\n              this.theTime,\n              this.theDay,\n              this.feedback\n            ).subscribe(booking => {\n              console.log(this.booking = booking);\n              let loading = this.loadingCtrl.create({\n                content: 'انتظر ...'\n              });\n              loading.present();\n              if (this.booking.status == true) {\n                this.bookSuccess();\n                loading.dismiss();\n                this.navCtrl.setRoot('BookBillPage');\n              }\n              else if (this.booking.status == false || this.booking == \"\") {\n\n\n                this.ErrorMessag = this.booking.data;\n                this.error += this.ErrorMessag.time == null ? \"\" : \"<br />\" + this.ErrorMessag.time;\n                this.error += this.ErrorMessag.date == null ? \"\" : \"<br />\" + this.ErrorMessag.date;\n                this.error = this.ErrorMessag.feedback == null ? \"\" : \"<br />\" + this.ErrorMessag.feedback;\n                this.error += this.ErrorMessag.staff_id == null ? \"\" : \"<br />\" + this.ErrorMessag.staff_id;\n                this.error += this.ErrorMessag.salons_id == null ? \"\" : \"<br />\" + this.ErrorMessag.salons_id;\n                this.error += this.ErrorMessag.serveries_id == null ? \"\" : \"<br />\" + this.ErrorMessag.serveries_id;\n                this.error += this.ErrorMessag.user_id == null ? \"\" : \"<br />\" + this.ErrorMessag.user_id;\n                this.BookFailed();\n                loading.dismiss();\n\n\n              }\n            });\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n\n  bookSuccess() {\n    let toast = this.toastCtrl.create({\n      message: 'تم الحجز بنجاح - لتفاصل راجع صفحة الطلبات',\n      duration: 3000,\n      position: 'top'\n    });\n    toast.present();\n    // let alert = this.alertCtrl.create({\n    //   title: 'تم',\n    //   subTitle: 'تم الحجز بنجاح - لتفاصل راجع صفحة الطلبات',\n    //   buttons: ['انتهاء']\n    // });\n    // alert.present();\n  }\n\n\n  BookFailed() {\n    let alert = this.alertCtrl.create({\n      title: 'فشل',\n      subTitle: \"\\n\" + this.error + \"\\n\",\n      buttons: ['رجوع']\n    });\n    alert.present();\n  }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/booking-confirm/booking-confirm.ts"],"sourceRoot":""}